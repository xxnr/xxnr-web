var app=angular.module('xxnr');app.service('commonService',function($q,$http,BaseUrl){console.log('BaseUrl=' + BaseUrl);this.baseUrl=BaseUrl;this.ajax=function(params){var deferred=$q.defer();$http({method:'JSONP',url:this.baseUrl+params.methodname+'?callback=JSON_CALLBACK',params:params}).success(function(data){deferred.resolve(data);}).error(function(data,error){alert('error = '+error+', and data = '+data+', and = '+params.methodname+', and this.baseUrl = '+this.baseUrl);});return deferred.promise;};var _user=$.parseJSON(sessionStorage.getItem("user"));if(!_user){_user={userid:'809f4ee124ec4f1598e9a740d5d3927d',userType:'3'};} this.user=_user;this.accessShoppingCart=function(){if(_user!=null&&_user.userid!=null&&_user.userid!=""){window.location.href="shoppingCart.html";}else{window.location.href="login.html";}}});